# 서비스 아키텍처

> 패키지 단위를 중심으로 각 패키지의 역할과 기능을 정의했다.

- `noumenon-front`
  - 역할: 웹 서비스
  - 기능:
    - 아이템 검색 기능을 제공
    - 아이템의 상세 정보를 제공
  - 특징:
    - Nest.js를 사용
    - 아이템 데이터 스키마는 `noumenon-data-schema` 패키지가 제공하는 스키마를 사용
    - 아이템 데이터는 `noumenon-data-sync`가 관리하는 클라우드 스토리지의 파일들을 사용
- `noumenon-librarian`
  - 역할: 데이터 파이프라인 조율
  - 기능:
    - raw-data 변경 감지
    - raw-data 다운로드 및 noumenon-gleaner 실행 (스키마 + 데이터 동시 생성)
    - 생성된 파일을 각각 적절한 위치에 배치
    - 스키마 패키지 버전 관리 및 배포
    - 데이터 파일 클라우드 동기화
- `noumenon-data-schema`
  - 역할: 데이터 스키마 제공 패키지
  - 특징:
    - librarian이 생성하는 파일들을 포함
- `noumenon-data-sync`
  - 역할: 데이터 배포 및 CDN 관리
  - 기능:
    - 클라우드 스토리지에 데이터 파일 업로드/동기화
    - CDN 캐시 무효화 관리
    - 파일 압축 및 최적화 (Optional)
- `noumenon-gleaner`
  - 역할: 데이터 추출 도구
  - 기능:
    - Raw 데이터 파일(CSV 형식)을 읽고 서비스에 필요한 데이터 파일(JSON 형식)과 스키마 파일(TypeScript 형식)을 생성
  - 특징:
    - CLI 명령어로 기능을 제공
    - CLI 파라미터로 입력 파일 경로를 지정
    - CLI 파라미터로 출력 파일 경로를 지정
    - CLI 파라미터로 스키마 파일 생성 또는 데이터 파일 생성을 선택
    - 기능은 Rust로 구현하고, NPM 패키지 형태로 제공. ([napi-rs](https://napi.rs/) 사용)
- `noumenon-raw-data`
  - 역할: raw-data 소스
  - 특징:
    - 환경 제약상 raw-data의 최신화는 자동화가 어렵고 비효율적이기 때문에 수동으로 관리
